
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML was auto-generated from MATLAB code.
To make changes, update the MATLAB code and republish this document.
      --><title>Examples from the Trendy Tutorial</title><meta name="generator" content="MATLAB 8.2"><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"><meta name="DC.date" content="2013-12-17"><meta name="DC.source" content="urlfilter_demo.m"><style type="text/css">
html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,font,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}:focus{outine:0}ins{text-decoration:none}del{text-decoration:line-through}table{border-collapse:collapse;border-spacing:0}

html { min-height:100%; margin-bottom:1px; }
html body { height:100%; margin:0px; font-family:Arial, Helvetica, sans-serif; font-size:10px; color:#000; line-height:140%; background:#fff none; overflow-y:scroll; }
html body td { vertical-align:top; text-align:left; }

h1 { padding:0px; margin:0px 0px 25px; font-family:Arial, Helvetica, sans-serif; font-size:1.5em; color:#d55000; line-height:100%; font-weight:normal; }
h2 { padding:0px; margin:0px 0px 8px; font-family:Arial, Helvetica, sans-serif; font-size:1.2em; color:#000; font-weight:bold; line-height:140%; border-bottom:1px solid #d6d4d4; display:block; }
h3 { padding:0px; margin:0px 0px 5px; font-family:Arial, Helvetica, sans-serif; font-size:1.1em; color:#000; font-weight:bold; line-height:140%; }

a { color:#005fce; text-decoration:none; }
a:hover { color:#005fce; text-decoration:underline; }
a:visited { color:#004aa0; text-decoration:none; }

p { padding:0px; margin:0px 0px 20px; }
img { padding:0px; margin:0px 0px 20px; border:none; }
p img, pre img, tt img, li img { margin-bottom:0px; } 

ul { padding:0px; margin:0px 0px 20px 23px; list-style:square; }
ul li { padding:0px; margin:0px 0px 7px 0px; }
ul li ul { padding:5px 0px 0px; margin:0px 0px 7px 23px; }
ul li ol li { list-style:decimal; }
ol { padding:0px; margin:0px 0px 20px 0px; list-style:decimal; }
ol li { padding:0px; margin:0px 0px 7px 23px; list-style-type:decimal; }
ol li ol { padding:5px 0px 0px; margin:0px 0px 7px 0px; }
ol li ol li { list-style-type:lower-alpha; }
ol li ul { padding-top:7px; }
ol li ul li { list-style:square; }

.content { font-size:1.2em; line-height:140%; padding: 20px; }

pre, tt, code { font-size:12px; }
pre { margin:0px 0px 20px; }
pre.error { color:red; }
pre.codeinput { padding:10px; border:1px solid #d3d3d3; background:#f7f7f7; }
pre.codeoutput { padding:10px 11px; margin:0px 0px 20px; color:#4c4c4c; }

@media print { pre.codeinput, pre.codeoutput { word-wrap:break-word; width:100%; } }

span.keyword { color:#0000FF }
span.comment { color:#228B22 }
span.string { color:#A020F0 }
span.untermstring { color:#B20000 }
span.syscmd { color:#B28C00 }

.footer { width:auto; padding:10px 0px; margin:25px 0px 0px; border-top:1px dotted #878787; font-size:0.8em; line-height:140%; font-style:italic; color:#878787; text-align:left; float:none; }
.footer p { margin:0px; }
.footer a { color:#878787; }
.footer a:hover { color:#878787; text-decoration:underline; }
.footer a:visited { color:#878787; }

table th { padding:7px 5px; text-align:left; vertical-align:middle; border: 1px solid #d6d4d4; font-weight:bold; }
table td { padding:7px 5px; text-align:left; vertical-align:top; border:1px solid #d6d4d4; }





  </style></head><body><div class="content"><h1>Examples from the Trendy Tutorial</h1><!--introduction--><p>This code references the tutorial HTML file found <a href="http://www.mathworks.com/matlabcentral/trendy/Tutorial/trendco.html">here</a>.</p><!--/introduction--><h2>Contents</h2><div><ul><li><a href="#1">Task 1: How many widgets were produced?</a></li><li><a href="#3">Task 2: What is today's relative humidity?</a></li><li><a href="#4">Task 3: How much did TrendCo make on Tetrascopes today?</a></li><li><a href="#5">Task 4: What is the ID number for Grid Brackets?</a></li></ul></div><h2>Task 1: How many widgets were produced?<a name="1"></a></h2><p>The phrase "Total Widgets" makes a good target string.</p><pre class="codeinput">the_url = <span class="string">'http://www.mathworks.com/matlabcentral/trendy/Tutorial/trendco.html'</span>;
total_widgets = urlfilter(the_url,<span class="string">'Total Widgets'</span>);
disp(total_widgets)
</pre><pre class="codeoutput">   437

</pre><p>Even though the phrase "Total Widgets" doesn't sit next to the number, it's still a good specific marker for the number that we're interested in. URLFILTER starts there and begins looking for numbers. The first one it finds is 437, at which point it stops.</p><h2>Task 2: What is today's relative humidity?<a name="3"></a></h2><p>In this case "humidity" is a good target, but the number immediately following the target (77) isn't the one we're interested in. The workaround is to collect two numbers and only use the second one. This involves passing a third argument to URLFILTER.</p><pre class="codeinput">the_url = <span class="string">'http://www.mathworks.com/matlabcentral/trendy/Tutorial/trendco.html'</span>;
vals = urlfilter(the_url,<span class="string">'humidity'</span>,2);
humidity = vals(2);
disp(humidity)
</pre><pre class="codeoutput">    48

</pre><h2>Task 3: How much did TrendCo make on Tetrascopes today?<a name="4"></a></h2><p>In this case we want to collect two numbers (sales from East and West) and add them together.</p><pre class="codeinput">the_url = <span class="string">'http://www.mathworks.com/matlabcentral/trendy/Tutorial/trendco.html'</span>;
vals = urlfilter(the_url,<span class="string">'Tetrascope'</span>,3);
east_sales = vals(2);
west_sales = vals(3);
total_sales = east_sales + west_sales;
disp(total_sales)
</pre><pre class="codeoutput">    41

</pre><h2>Task 4: What is the ID number for Grid Brackets?<a name="5"></a></h2><p>This looks like an easy question, but the obvious solution doesn't work:</p><pre class="codeinput">the_url = <span class="string">'http://www.mathworks.com/matlabcentral/trendy/Tutorial/trendco.html'</span>;
sales = urlfilter(the_url,<span class="string">'Grid Bracket'</span>);
disp(sales)      <span class="comment">% fails!</span>
</pre><pre class="codeoutput">End of file reached.
   NaN

</pre><p>Why isn't it working? It's only when you view the underlying HTML source that you see there is a non-breaking space between "Grid" and "Bracket". So instead of "Grid Bracket", the target search term should be "Grid&amp;nbsp;Bracket".</p><pre class="codeinput">sales = urlfilter(<span class="string">'http://www.mathworks.com/matlabcentral/trendy/Tutorial/trendco.html'</span>,<span class="string">'Grid&amp;nbsp;Bracket'</span>);
disp(sales)
</pre><pre class="codeoutput">      939003

</pre><p>Now the code works fine. Remember that sometimes you have to examine the source HTML before you can be confident that your target string is accurate and unique.</p><p class="footer">Copyright 2012-2013 The MathWorks, Inc.<br><a href="http://www.mathworks.com/products/matlab/">Published with MATLAB&reg; R2013b</a><br></p></div><!--
##### SOURCE BEGIN #####
%% Examples from the Trendy Tutorial
% This code references the tutorial HTML file found
% <http://www.mathworks.com/matlabcentral/trendy/Tutorial/trendco.html
% here>.

% Copyright 2012-2013 The MathWorks, Inc.

%% Task 1: How many widgets were produced?
% 
% The phrase "Total Widgets" makes a good target string.

the_url = 'http://www.mathworks.com/matlabcentral/trendy/Tutorial/trendco.html';
total_widgets = urlfilter(the_url,'Total Widgets');
disp(total_widgets)

%%
% Even though the phrase "Total Widgets" doesn't sit next to the number,
% it's still a good specific marker for the number that we're interested
% in. URLFILTER starts there and begins looking for numbers. The first one
% it finds is 437, at which point it stops.

%% Task 2: What is today's relative humidity?
% In this case "humidity" is a good target, but the number immediately
% following the target (77) isn't the one we're interested in. The
% workaround is to collect two numbers and only use the second one. This
% involves passing a third argument to URLFILTER.

the_url = 'http://www.mathworks.com/matlabcentral/trendy/Tutorial/trendco.html';
vals = urlfilter(the_url,'humidity',2);
humidity = vals(2);
disp(humidity)

%% Task 3: How much did TrendCo make on Tetrascopes today?
% In this case we want to collect two numbers (sales from East and West)
% and add them together.

the_url = 'http://www.mathworks.com/matlabcentral/trendy/Tutorial/trendco.html';
vals = urlfilter(the_url,'Tetrascope',3);
east_sales = vals(2);
west_sales = vals(3);
total_sales = east_sales + west_sales;
disp(total_sales)

%% Task 4: What is the ID number for Grid Brackets?
% This looks like an easy question, but the obvious solution doesn't work:

the_url = 'http://www.mathworks.com/matlabcentral/trendy/Tutorial/trendco.html';
sales = urlfilter(the_url,'Grid Bracket');
disp(sales)      % fails!

%%
% Why isn't it working? It's only when you view the underlying HTML source
% that you see there is a non-breaking space between "Grid" and "Bracket".
% So instead of "Grid Bracket", the target search term should be
% "Grid&nbsp;Bracket".

sales = urlfilter('http://www.mathworks.com/matlabcentral/trendy/Tutorial/trendco.html','Grid&nbsp;Bracket');
disp(sales)

%%
% Now the code works fine. Remember that sometimes you have to examine the
% source HTML before you can be confident that your target string is
% accurate and unique.
##### SOURCE END #####
--></body></html>